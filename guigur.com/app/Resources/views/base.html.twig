<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="guigur's website">
        <meta name="author" content="guigur">
        <meta name="theme-color" content="#1b8e51">
        {% block meta %}{% endblock %}
        <title>Guigur.com</title>
        <link rel="icon" type="image/png" href="{{ asset('img/favicons/guigur_32.png') }}" sizes="32x32">
        <link rel="icon" type="image/png" href="{{ asset('img/favicons/guigur_48.png') }}" sizes="48x48">
        <link rel="icon" type="image/png" href="{{ asset('img/favicons/guigur_64.png') }}" sizes="64x64">
        <link rel="icon" type="image/png" href="{{ asset('img/favicons/guigur_96.png') }}" sizes="96x96">


        {%  if app.request.cookies.get('dark') == "true" %}
            <link href="{{ asset('css/bootstrap-Darkly.min.css') }}" rel="stylesheet">
        {% else %}
            <link href="{{ asset('css/bootstrap.min.css') }}" rel="stylesheet">
        {% endif %}
        <link href="{{ asset('css/foundation-icons.css') }}" rel="stylesheet">
        <link href="{{ asset('css/viewer.min.css') }}" rel="stylesheet">

        <link href="{{ asset('css/custom.css') }}" rel="stylesheet">

        {% block css %}{% endblock %}
        <script src="{{ asset('js/jquery-3.3.1.min.js')}}"></script>
        <script src="{{ asset('js/js.cookie.min.js') }}"></script>
        <script src="{{ asset('js/viewer.min.js')}}"></script>
        <script src="{{ asset('js/jquery-viewer.min.js')}}"></script>
        <script src="{{ asset('js/tinymce/tinymce.min.js') }}"></script>
        <script>tinymce.init({ selector:'.tinyMCE' });</script>

        <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

        <!-- analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-38167346-1', 'auto');
            ga('send', 'pageview');
        </script>

        <!-- reCAPTCHA  -->
        <script src='https://www.google.com/recaptcha/api.js'></script>
    </head>
    <body>
    {% block navBar %}
        <nav class="navbar navbar-expand-md navbar-inverse sticky-top navbar-dark bg-darker">
        <div class="container">
            <a class="navbar-brand" href="{{ path('Homepage') }}">
                <img src="{{ asset('img/guigur_.com_green_small.png') }}" height="50em" alt="">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-between" id="navbar">
                <ul class="navbar-nav">
                    <li class="nav-item {% if app.request.get('_route') == 'Homepage' %}active{% endif %}">
                        <a class="nav-link" href="{{ path('Homepage') }}"><span class="fa fa-home" aria-hidden="true"></span>&nbsp;{{ g_texts.getText("nav_home")|raw }}</a>
                    </li>
                    <li class="nav-item {% if (app.request.get('_route') == 'Projects') or (app.request.get('_route') == 'Project') %}active{% endif %}">
                        <a class="nav-link" href="{{ path('Projects') }}"><span class="fa fa-microchip" aria-hidden="true"></span>&nbsp;{{ g_texts.getText("nav_projects")|raw }}</a>
                    </li>
                    <li class="nav-item {% if app.request.get('_route') == 'Archives' %}active{% endif %}">
                        <a class="nav-link" href="{{ path('Archives') }}"><span class="fa fa-archive" aria-hidden="true"></span>&nbsp;{{ g_texts.getText("nav_archive")|raw }}</a>
                    </li>
                    <li class="nav-item {% if app.request.get('_route') == 'About' %}active{% endif %}">
                        <a class="nav-link" href="{{ path('About') }}"><span class="fa fa-address-card" aria-hidden="true"></span>&nbsp;{{ g_texts.getText("nav_about")|raw }}</a>
                    </li>
                    <li class="nav-item {% if app.request.get('_route') == 'Contact' %}active{% endif %}">
                        <a class="nav-link" href="{{ path('Contact') }}"><span class="fa fa-envelope" aria-hidden="true"></span>&nbsp;{{ g_texts.getText("nav_contact")|raw }}</a>
                    </li>
                   {% if app.user %}
                       {% if app.user.hasRole('ROLE_ADMIN') %}
                           <li class="nav-item {% if app.request.get('_route') == 'admin_homepage' %}active{% endif %}">
                               <a class="nav-link" href="{{ path('admin_homepage') }}"><span class="fa fa-user-cog" aria-hidden="true"></span>&nbsp;{{ g_texts.getText("nav_admin")|raw }}</a>
                           </li>
                       {% endif %}
                   {% endif %}
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {%  if app.user %}<img src="{{ asset(g_imageChecker.defaultImage(app.user.img, 'user')) }}" class="rounded-circle img-avatar" height="50" width="50" />&nbsp;&nbsp;{{ app.user.username }}{% else %}<i class="fa fa-user"></i>{% endif %}
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            {%  if app.user %}
                                <a class="dropdown-item" href="{{ path('fos_user_profile_show') }}">{{ g_texts.getText("nav_profil")|raw }}</a>
                                <a class="dropdown-item" href="{{ path('fos_user_security_logout') }}">{{ g_texts.getText("nav_disconect")|raw }}</a>
                            {% else %}
                                <a class="dropdown-item" href="{{ path('fos_user_registration_register') }}">{{ g_texts.getText("nav_register")|raw }}</a>
                                <a class="dropdown-item" href="{{ path('fos_user_security_login') }}">{{ g_texts.getText("nav_login")|raw }}</a>
                            {% endif %}
                            <span class="dropdown-item" href="">
                                {{ g_texts.getText("nav_night_mode")|raw }}
                                <label class="switch">
                                    <input type="checkbox" id="darkSwitch" >
                                    <span class="slider round"></span>
                                </label>
                            </span>
                        </div>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
    {% endblock %}
     <div class="container" style="margin-top:2em;">
            <div class="modal fade" id="guigurModal" tabindex="-1" role="dialog" aria-labelledby="guigurModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="guigurModalLabel">Modal title</h4>
                        </div>
                        <div class="modal-body"></div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
            {% block body %}
            {% endblock body %}
        </div>
        {% block footer %}
            <footer class="footer bg-darker">
                <div class="container">
                    <div class="row bg-darker">
                        <div class="col-md-4 text-center footer-blocks">
                            <a class="footer-link" rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">
                        <span class="footer-icons-cc-wrapper" >
                            <span class="footer-icons-cc fab fa-creative-commons" aria-hidden="true"></span>
                            <span class="footer-icons-cc fab fa-creative-commons-by" aria-hidden="true"></span>
                            <span class="footer-icons-cc fab fa-creative-commons-nc" aria-hidden="true"></span>
                        </span>
                            </a>
                        </div>
                        <div class="col-md-4 text-center">
                            guigur.com 2012-{{ "now"|date("Y") }}
                        </div>
                        <div class="col-md-4 text-center">
                            <a class="footer-link" href="{{ path('Changelog') }}" ><span class="fa fa-pen" aria-hidden="true"></span>  Changelog</a>
                        </div>
                    </div>
                </div>
            </footer>
        {% endblock %}
    <script>
        var isDark = Cookies.get('dark');
        if (isDark === "true")
            $("#darkSwitch").prop('checked', true);

        var darkChecker = function() {
            if ($('#darkSwitch').length) //check if element exist
            {
                var darkCheckbox = $("#darkSwitch:checked").prop('checked');

                if (isDark === "true")
                {
                    if (darkCheckbox !== true)
                    {
                        console.log("light");
                        Cookies.set("dark", false);
                        location.reload();
                    }
                }
                else
                {
                    if (darkCheckbox === true)
                    {
                        console.log("dark");
                        Cookies.set("dark", true);
                        location.reload();
                    }
                }
            }
        };
        darkChecker();
        $("#darkSwitch").on("click", darkChecker);

            /*
        var popUpWelcome = Cookies.get('popUpWelcome');
        if (popUpWelcome !== "true")
            console.log("SALUT TES NOUVEAI ?!"); // $("#darkSwitch").prop('checked', true);
        */
        </script>
        <script src="{{ asset('js/bootstrap.min.js') }}"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=desert"></script>
    <script async  src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    {% block js %}{% endblock %}
    </body>
</html>
